import{j as _}from"./jsx-runtime.D_zvdyIk.js";import{r as e}from"./index.DMVOjPfi.js";import{_ as S}from"./preload-helper.BlTxHScW.js";/* empty css                        */function y({id:n,host:s,repo:i,repoId:a,category:u,categoryId:c,mapping:m,term:d,strict:l,reactionsEnabled:h,emitMetadata:p,inputPosition:g,theme:f,lang:b,loading:E}){const[o,w]=e.useState(!1);return e.useEffect(()=>{o||S(()=>import("./giscus-Ci9LqPcC.cvwcBf5t.js"),[]).then(()=>w(!0))},[]),o?_.jsx("giscus-widget",{id:n,host:s,repo:i,repoid:a,category:u,categoryid:c,mapping:m,term:d,strict:l,reactionsenabled:h,emitmetadata:p,inputposition:g,theme:f,lang:b,loading:E}):null}function C({repo:n,repoId:s,category:i,categoryId:a,mapping:u,strict:c,reactionsEnabled:m,emitMetadata:d,inputPosition:l,theme:h,lang:p,loading:g}){const[f,b]=e.useState(!0),E=h||"light",[o,w]=e.useState(()=>typeof window<"u"?document.documentElement.getAttribute("data-theme")==="dark"?"transparent_dark":"light":E);return e.useEffect(()=>{const t=window.location.hostname,r=!t.includes("vio.vin");console.log("Giscus Debug:",{currentHost:t,shouldShowComments:r}),b(r)},[]),e.useEffect(()=>{const t=new MutationObserver(r=>{r.forEach(v=>{if(v.type==="attributes"&&v.attributeName==="data-theme"){const x=document.documentElement.getAttribute("data-theme");w(x==="dark"?"transparent_dark":"light")}})});return t.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>t.disconnect()},[]),f?_.jsx("div",{className:"giscus-container",children:_.jsx(y,{repo:n,repoId:s,category:i,categoryId:a,mapping:u,strict:c,reactionsEnabled:m,emitMetadata:d,inputPosition:l,theme:o,lang:p,loading:g})}):null}export{C as Giscus};
